1) Реализовать добавление внутреннего пользователя (ВП). Может быть даже напрямую обращаясь к базе данных из root-a. Добавление внутреннего пользователя --- это добавление username-password. Скорее всего я это сделаю так --- придумываю логин и пароль (хеширую пароль той же функцией, которой хешируется на сервере, получаю хеш, и этот хеш ввожу в ячейку.) Пока дынные по внутренним пользователям будем хранить просто в таблице excel. Далее по закрытому каналу (на бумажке) передаю пользователю.

2) При отправке от десктопного клиента (ДК) серверу первого сообщения, нужно чтобы в сообщении был логин и пароль (для аутентификации), а так же количеством нужных идентификаторов. Понимание к какому сервису относится данная прошивка и какой тип устройства я могу прописать в url т.е. имеется ввиду что нужно такой api придумать, чтобы понимание, того к камому сервису относится прошиваемое устройство и какой тип устройства, должен быть прописан в url/
У нас есть понятие типа устройства (датчик, хаб, головное устройство)
Далее на основании того какие параметры я получил от клиента и согласно url я понимаю что мне нужно. А нужно мне зарезервировать  id-шники. Для резервации мне нужно знать кто зарезервировал, в рамках какой сессии, и собственно индексы которые зарезервированы.
Как я это делаю!? Сначала регистрирую новую сессию. Затем в таблице devices вношу строки по порядку . Потом запрашиваю из таблицы devices все записи с условием session_id = данная сессия AND device_reserved = 1 AND delete_ != 0. Проверяю на предмет того, что возращенный список идет без пропусков (ну то есть, что этот массив каждый последующий член которого равен предыдущему + 1)   и колличество элементов . Если в списке идет ошибка, то я делаю update и у всех записей делаю delete_ = 1. А в качестве ответа клиенту направляю ошибку с предложением попробовать получить идентификаторы еще раз. В случае если список соответсвует требованиям то я его отправляю клиенту. Как мне кажется отправить список можно просто в виде начального значения индекса, ну или для подстаховки еще можно указать количество элементов в списке (хотя эти данные клиент знает).  Так же я должен отправить пользователю индекс сессии. Скорее всего, надо будет индекс сессии зашифровывать в токен. И в дальнейшем идентификацию делать по токену. Так как все параметры мы похоже будем передавать в теле в виде JSON.
Если в течении какого-то времени (надо с Темой пообщаться) второй запрос не поступит, то нужно будет сессию закрыть.(Это вопрос обсуждаемый, надо понять --- есть ли в открытой сессии проблемы). Скорее всего сессии закрывать не надо на основании долгого срока открытия. Скорее всего придется закрывать сессию после истечения срока действия токена, хотя это не точно.
Сервер получает от клиента запрос в котором есть токен и параметры датчика. 
Сначала я выясняю проходит ли токен аутентификацию-идентификация. Если не проходит уведомляю, что "У Вас неправильный токен".
Затем извлекаю из токена идентификатор сессии. Надо понимать, что у одного и того же пользователя на втором этапе взаимодействия разница между разными сессиями будет в количестве зарезервированных идентификаторов и значениями этих идентификаторов. Поэтому мы должны проверить значения идентификаторов привязанных к данной сессии. Если идентификаторы зарезервированные и идентификаторы полученные в параметрах не совпадают, то отправляю сообщение "Под данной сессией зарезервированы следующие идентификаторы: 1, 2, 3, 4. А в запросе указаны идентификаторы 23, 24, 25". Если же они совпадают, то я 
Делаю запросы на уникальность идентификатора в axleloadsensors.
Одним запросом заважу новый девайс в таблице axleloadsensors
